---
id: 1
title: "é›™è»Œç¯€é»å‰µå»ºèˆ‡è‡ªå‹•é™ç´šç­–ç•¥"
date: 2026-01-16
severity: HIGH
related: [3, 10]
---

# æ ¸å¿ƒæ•™è¨“ #1ï¼šé›™è»Œç¯€é»å‰µå»ºèˆ‡è‡ªå‹•é™ç´šç­–ç•¥

> **æœ€å¾Œæ›´æ–°**: 2026-01-20  
> **ç‰ˆæœ¬**: v1.2

Dynamo MCP æ¡ç”¨é›™è»Œåˆ¶ç­–ç•¥ï¼Œä¸¦å…·å‚™è‡ªå‹•ä¿®å¾©èƒ½åŠ›ã€‚

---

## ğŸ›¤ï¸ è»Œé“ Aï¼šCode Block å…§åµŒæ¨¡å¼ (ç©©å®š / é™ç´šè·¯å¾‘)

**é©ç”¨æƒ…å¢ƒ**ï¼š
- è¤‡é›œåµŒå¥—ï¼ˆå¸ƒæ—é‹ç®—ï¼‰
- å¤šå±¤å¾ªç’°
- è»Œé“ B åŸ·è¡Œå¤±æ•—æ™‚

**è¡Œç‚º**ï¼šå°‡é‚è¼¯å°è£åœ¨å–®ä¸€ Code Block ä¸­ï¼Œä¸ä¾è³´å¤–éƒ¨é€£ç·šï¼ŒæˆåŠŸç‡ 100%ã€‚

**é»ƒé‡‘æ³•å‰‡**ï¼š

| è¦å‰‡ | èªªæ˜ |
|:---|:---|
| ç¯€é»åç¨± | `"Number"` (ä¸æ˜¯ `"Code Block"`) |
| ä»£ç¢¼æ¬„ä½ | `value` å­˜æ”¾å®Œæ•´ DesignScript |
| èªæ³•çµå°¾ | å¿…é ˆä»¥ `;` çµå°¾ |

**JSON ç¯„ä¾‹**ï¼š
```json
{
  "nodes": [{
    "id": "line1",
    "name": "Number",
    "value": "Line.ByStartPointEndPoint(Point.ByCoordinates(0,0,0), Point.ByCoordinates(100,100,100));",
    "x": 300, "y": 300
  }]
}
```

**å„ªå‹¢**ï¼š
- âœ… 100% å¯é ï¼Œç„¡é€£ç·šå¤±æ•—é¢¨éšª
- âœ… é©åˆè¤‡é›œåµŒå¥—å¹¾ä½•
- âœ… èˆ‡ Dynamo åŸç”Ÿè¨­è¨ˆå“²å­¸ä¸€è‡´

**åŠ£å‹¢**ï¼š
- âŒ JSON å¯è®€æ€§å·®
- âŒ é›£ä»¥åƒæ•¸åŒ–

---

## ğŸ›¤ï¸ è»Œé“ Bï¼šåŸç”Ÿç¯€é»è‡ªå‹•æ“´å±• (é¦–é¸ - åƒæ•¸åŒ–å„ªå…ˆ)

**é©ç”¨æƒ…å¢ƒ**ï¼š
- å¸¸è¦å¹¾ä½•ï¼ˆé»ã€ç·šã€ç«‹æ–¹é«”ï¼‰
- éœ€è¦åƒæ•¸åŒ–çš„ç¯€é»
- è…³æœ¬åº«å¾©ç”¨

**è¡Œç‚º**ï¼šPython æœƒè‡ªå‹•å°‡ `params` åˆ†è§£ç‚º Number ç¯€é»ï¼ŒC# å„ªå…ˆé€éåŸ ä½åç¨±ç¢ºä¿é€£ç·šæ­£ç¢ºæ€§ã€‚

**JSON ç¯„ä¾‹**ï¼š
```json
{
  "nodes": [{
    "id": "cube1",
    "name": "Cuboid.ByLengths",
    "params": {"width": 100, "length": 50, "height": 30},
    "x": 500, "y": 300,
    "preview": false
  }]
}
```

**è‡ªå‹•è½‰æ›çµæœ** (Python ç«¯)ï¼š
```json
{
  "nodes": [
    {"id": "cube1", "name": "Cuboid.ByLengths", "x": 500, "y": 300},
    {"id": "cube1_width_1234", "name": "Number", "value": "100", "x": 300, "y": 300},
    {"id": "cube1_length_1234", "name": "Number", "value": "50", "x": 300, "y": 380},
    {"id": "cube1_height_1234", "name": "Number", "value": "30", "x": 300, "y": 460}
  ],
  "connectors": [
    {"from": "cube1_width_1234", "to": "cube1", "fromPort": 0, "toPort": 0}
  ]
}
```

**å„ªå‹¢**ï¼š
- âœ… JSON çµæ§‹æ¸…æ™°ï¼Œèªç¾©åŒ–å¼·
- âœ… æ˜“æ–¼åƒæ•¸åŒ–

**åŠ£å‹¢**ï¼š
- âŒ ä¾è³´è·¨èªè¨€ ID æ˜ å°„æ©Ÿåˆ¶
- âŒ è‹¥é€£ç·šå¤±æ•—æœƒç”¢ç”Ÿæ®­å±ç¯€é»

---

## ğŸ›¡ï¸ è‡ªå‹•é™ç´šæ©Ÿåˆ¶

ç•¶è»Œé“ B åŸ·è¡Œå¤±æ•—æ™‚ï¼ŒPython Server è‡ªå‹•ï¼š

1. åµæ¸¬éŒ¯èª¤ç¯€é»é¡å‹
2. å°‡åŸç”Ÿç¯€é»æŒ‡ä»¤è½‰æ›ç‚º DesignScript ä»£ç¢¼
3. é‡æ–°æ‰“åŒ…ç‚ºè»Œé“ A æ¨¡å¼
4. **è‡ªå‹•é‡è©¦**

---

## ğŸ”€ æ±ºç­–æµç¨‹

```mermaid
graph TD
    A[AI æ”¶åˆ°å¹¾ä½•å‰µå»ºæŒ‡ä»¤] --> B{æ˜¯å¦éœ€è¦åƒæ•¸åŒ–?}
    B -->|å¦| C[ä½¿ç”¨è»Œé“ A<br/>Code Block å…§åµŒ]
    B -->|æ˜¯| D{ç¯€é»æ˜¯å¦åœ¨<br/>common_nodes.json?}
    D -->|å¦| C
    D -->|æ˜¯| E{æ˜¯å¦ç‚ºè¤‡é›œåµŒå¥—?}
    E -->|æ˜¯| C
    E -->|å¦| F[ä½¿ç”¨è»Œé“ B<br/>åŸç”Ÿç¯€é»è‡ªå‹•æ“´å±•]
    F --> G{é€£ç·šæ˜¯å¦æˆåŠŸ?}
    G -->|å¤±æ•—| H[é™ç´šè‡³è»Œé“ A]
    G -->|æˆåŠŸ| I[âœ… å®Œæˆ]
```

---

## ğŸ“ ç›¸é—œæ–‡ä»¶

- ğŸ“˜ è©³ç´°æŠ€è¡“èªªæ˜ï¼š[`domain/node_creation_strategy.md`](../../domain/node_creation_strategy.md)
- ğŸ“‹ æ¶æ§‹åˆ†æå ±å‘Šï¼š[`domain/architecture_analysis.md`](../../domain/architecture_analysis.md)
- ğŸ”§ ç¯€é»ç°½åå®šç¾©ï¼š`DynamoViewExtension/common_nodes.json`
